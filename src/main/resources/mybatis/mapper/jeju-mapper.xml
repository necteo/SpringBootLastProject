<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="com.sist.web.mapper.JejuMapper">
 	 <select id="jejuListData" resultType="com.sist.web.vo.JejuVO" parameterType="hashmap">
 	 	 SELECT no, contentid, title, address, image1, hit
 	 	 FROM jejutravel
 	 	 WHERE contenttype = #{contenttype}
 	 	 ORDER BY no
 	 	 OFFSET #{start} ROWS FETCH NEXT 12 ROWS ONLY
 	 </select>
 	 
 	 <!-- 검색 -->
 	 <select id="jejuFindData" resultType="com.sist.web.vo.JejuVO" parameterType="hashmap">
 	   SELECT no, contentid, title, address, image1, hit, contenttype
 	 	 FROM jejutravel
 	 	 WHERE contenttype = #{selected}
 	 	 AND title LIKE '%' || #{fd} || '%'
 	 	 ORDER BY no
 	 	 OFFSET #{start} ROWS FETCH NEXT 12 ROWS ONLY
 	 </select>
 	 <select id="jejuFindTotalPage" resultType="int" parameterType="hashmap">
 	   SELECT CEIL(COUNT(*) / 12)
 	 	 FROM jejutravel
 	 	 WHERE contenttype = #{selected}
 	 	 AND title LIKE '%' || #{fd} || '%'
 	 </select>
 	 
 	 <select id="jejuTop4Data" resultType="com.sist.web.vo.JejuVO">
 	 	 SELECT no, contentid, title, address, image1, hit
 	 	 FROM (SELECT no, contentid, title, address, image1, hit
 	 	 			 FROM jejutravel ORDER BY hit DESC)
 	 	 WHERE rownum &lt;= 4
 	 </select>
 </mapper>